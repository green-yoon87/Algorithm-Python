### 💡**문제 분석 요약**

예를 들어 높이가 6, 9, 5, 7, 4인 다섯 개의 탑이 수평 직선에 일렬로 서 있고, 모든 탑에서는 주어진 탑 순서의 반대 방향(왼쪽 방향)으로 동시에 레이저 신호를 발사한다고 하자. 그러면, 높이가 4인 다섯 번째 탑에서 발사한 레이저 신호는 높이가 7인 네 번째 탑이 수신을 하고, 높이가 7인 네 번째 탑의 신호는 높이가 9인 두 번째 탑이, 높이가 5인 세 번째 탑의 신호도 높이가 9인 두 번째 탑이 수신을 한다. 높이가 9인 두 번째 탑과 높이가 6인 첫 번째 탑이 보낸 레이저 신호는 어떤 탑에서도 수신을 하지 못한다.

탑들의 개수 N과 탑들의 높이가 주어질 때, 각각의 탑에서 발사한 레이저 신호를 어느 탑에서 수신하는지를 알아내는 프로그램을 작성하라.

### 💡**알고리즘 설계**

스택을 이용하는 것이 핵심! 

- stack은 지금 당장 해결할 수 없는 데이터를 ( 어느 탑에서 수신하는지와 같은) stack에 담아 보관하는 것이다.
- 만약 top에 있는 것과 pop 된 높이를 비교해서 pop된 높이가 더 높으면 수신된 탑을 구할 수 있다. 또한 지금까지 구하지 못한 탑들도 계속 비교해서 수신할 . 수있는지를 확인할  수 있는 것이다.

### 💡코드

```python
import sys

num = int(sys.stdin.readline())
towers = list(map(int, sys.stdin.readline().split()))
towers = [(height, idx) for idx, height in enumerate(towers)]
answer = [0 for _ in range(num)]
stack = []

for i in range(num-1, -1, -1):
    tower = towers.pop()
    while stack:
        if tower[0] >= stack[-1][0]: 
            element = stack.pop()
            answer[element[1]] = tower[1] + 1
        else:
          break

    stack.append(tower)         
for i in answer:
    print(i, end=" ")
```

### 💡시간복잡도

N의 값이 500,000까지 입력받을 수 있고 시간 제한은 1.5초이다. 

따라서 N^2 시간복잡도를 가지면 최대 2.5초로 이는 시간 제한을 초과하므로 N 복잡도를 가져야한다. 

처음에 작성한 코드는 2개의 for 문으로 N^2 복잡도를 가져서 실패했다. 

### 💡 틀린 이유

스택을 사용했지만 내가 사용하는 스택의 방식은 근본적인 문제를 해결하지 못한다. 

- 처음 리스트에 대해서 스택으로 흉내내는 것이 아니라
- 지금 현재 답을 구하지 못한 데이터를 stack에 보관해서 비교하는 것이 핵심!
